<div class="person-info">
    <div class="name">
        <a href="/profile/{{$ctrl.person.id}}?organization_id={{$ctrl.organizationId}}">
            {{ $ctrl.person.full_name }}
        </a>
    </div>
    <div class="stats"
         ng-class="{'stats-collapsed': $ctrl.addInteractionBtnsVisible || $ctrl.closingInteractionButtons}">
        <div>{{$ctrl.report.contact_count || '-'}}</div>
        <div>
            <a class="red" href="/allcontacts?organization_id={{$ctrl.organizationId}}&interaction_type[]=none&assigned_to[]={{$ctrl.person.id}}"
               ng-if="$ctrl.report.uncontacted_count">
                {{$ctrl.report.uncontacted_count}}
            </a>
            <span ng-if="!$ctrl.report.uncontacted_count">-</span>
        </div>
        <div ng-repeat="i in [2,3,4,5,9]" class="no-data" ng-bind="$ctrl.reportInteractions(i)"></div>
        <span class="phone no-data" ng-if="$ctrl.person.phone_numbers.length === 0">-</span>
    </div>
    <div class="phone" ng-if="$ctrl.person.phone_numbers.length > 0">
        {{ $ctrl.person.phone_numbers[0].number | phone }}
    </div>

    <!-- Email -->
    <a ng-href="mailto:{{$ctrl.person.email_addresses[0].email}}"
       ng-if="$ctrl.person.email_addresses.length > 0">
        <round-button>
            <ng-md-icon icon="email"></ng-md-icon>
        </round-button>
    </a>
    <round-button class="disabled" ng-if="$ctrl.person.email_addresses.length == 0">
        <ng-md-icon icon="email"></ng-md-icon>
    </round-button>

    <div class="addInteractionButtons" ng-if="$ctrl.addInteractionBtnsVisible">
        <square-button ng-repeat="type in $ctrl.interactionTypes"
                       ng-click="$ctrl.openAddInteractionPanel(type)"
                       ng-class="{'open': $ctrl.openPanelType === type}"
                       title="{{type.title | t}}">
            <ng-md-icon icon="{{type.icon}}"></ng-md-icon>
        </square-button>
    </div>
    <ng-md-icon icon="add" class="add-new-interaction" ng-click="$ctrl.toggleInteractionBtns()"
                ng-class="{'close': $ctrl.addInteractionBtnsVisible}">
    </ng-md-icon>
</div>
<div class="addInteractionPanel" ng-if="$ctrl.openPanelType">
    <textarea placeholder="{{'dashboard.notes_for_new_interaction' | t}} {{$ctrl.openPanelType.title | t}}"
              ng-model="$ctrl.interactionComment"
              class="auto-grow"></textarea>
    <a href="#" ng-click="$ctrl.saveInteraction()">{{'dashboard.done' |t}}</a>
</div>
