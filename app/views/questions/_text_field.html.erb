<% name = defined?(survey) ? "answers[#{survey.id}][#{text_field.id}]" : "answers[#{text_field.id}]" %>
<%= text_field_tag name, text_field.response(answer_sheet), 
      :class => "text #{text_field.question_grid_id.present? ? "col_#{text_field.question_grid_id}_#{col}" : ''}" + text_field.validation_class(answer_sheet),
      :id => dom_id(text_field),
      :maxlength => text_field.max_length.to_i > 0 ? text_field.max_length : 255 %>

