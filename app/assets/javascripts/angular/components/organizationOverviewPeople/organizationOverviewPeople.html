<div class="row container" ng-class="{collapsed: ('app.ministries.ministry.people.person' | includedByState)}">
    <div class="people-list-filters">
        <div class="header">
            <div class="column filters-header-column">
                <span>{{'ministries.people.header' | t}}</span>
            </div>
        </div>
        <people-filters-panel filters-changed="$ctrl.filtersChanged(filters)"
                              organization-id="$ctrl.organizationOverview.org.id">
        </people-filters-panel>
    </div>
    <div class="people-list">
        <div class="header">
            <div class="column select-column">
                <input type="checkbox" ng-model="$ctrl.selectAllValue" ng-change="$ctrl.selectAll()" />
            </div>
            <div class="column important-column">
                <span>{{'ministries.people.name' | t}}</span>
            </div>
            <div class="column detail-column gender-column">
                <span>{{'ministries.people.gender' | t}}</span>
            </div>
            <div class="column detail-column normal-column">
                <span>{{'assignments.assignment' | t}}</span>
            </div>
            <div class="column detail-column normal-column">
                <span>{{'ministries.people.status' | t}}</span>
            </div>
            <div class="column detail-column phone-number-column">
                <icon-button icon="'phone'" disabled="true"></icon-button>
            </div>
            <div class="column detail-column button-column">
                <icon-button icon="'email'" disabled="true"></icon-button>
            </div>
        </div>
        <div class="selected-people-message" ng-if="$ctrl.selectedCount > 0">
            {{ 'ministries.people.selected_contacts' | t: { contactCount: $ctrl.selectedCount } }}
            <ng-md-icon class="actionable" icon="edit" size="16" ng-click="$ctrl.massEdit()"></ng-md-icon>
            <ng-md-icon class="actionable" icon="archive" size="16" ng-click="$ctrl.archivePeople()"></ng-md-icon>
            <ng-md-icon class="actionable" icon="delete" size="16" ng-click="$ctrl.deletePeople()"></ng-md-icon>
            <div class="space"></div>
            <ng-md-icon class="actionable" icon="close" size="16" ng-click="$ctrl.clearSelection()"></ng-md-icon>
        </div>
        <div class="scroll-contain">
            <div infinite-scroll="$ctrl.loadPersonPage()"
                 infinite-scroll-disabled="$ctrl.busy || $ctrl.loadedAll"
                 infinite-scroll-distance="0"
                 infinite-scroll-container="'organization-overview-people .scroll-contain'"
                 infinite-scroll-listen-for-event="checkInfiniteScroll"
                 class="grid-content">
                <ministry-view-person ng-repeat="person in $ctrl.people | orderBy: ['last_name','first_name'] track by person.id"
                                      ng-class="{ collapsed: ('app.ministries.ministry.people.person' | includedByState),
                                                  active: ('app.ministries.ministry.people.person' | includedByState:{personId: person.id}) }"
                                      selected="$ctrl.multiSelection[person.id]"
                                      person="person" organization-id="$ctrl.organizationOverview.org.id">
                </ministry-view-person>
                <div ng-if="!$ctrl.loadedAll" class="row message-row">
                    {{ 'general.loading_more' | t }}
                </div>
            </div>
        </div>
    </div>
    <ui-view></ui-view>
</div>
