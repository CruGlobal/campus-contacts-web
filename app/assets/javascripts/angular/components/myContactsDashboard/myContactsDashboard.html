<div class="my-contacts-dashboard" ui-sortable="$ctrl.sortableOptions" ng-model="$ctrl.organizationPeople">
  <h1 ng-show="$ctrl.loading" ng-click="$ctrl.retry">{{'dashboard.loading_contacts' | t}}</h1>
  <div ng-if="$ctrl.noContacts" class="no-contacts-message ng-cloak">
    <h1>{{ $ctrl.noContactsWelcome }}</h1>
    <p bind-dynamic="'dashboard.no_contacts_help' | t"></p>
  </div>
  <organization-people
          id="{{ org.id }}"
          name="{{ org.name }}"
          people="org.people"
          ng-repeat="org in $ctrl.organizationPeople | limitTo : $ctrl.numberOfOrgsToShow track by org.id"
          period="$ctrl.period"
          collapsible="$ctrl.collapsible"
          collapsible="$ctrl.collapsible"
          edit-mode="$ctrl.editMode"
          visible="org.visible"
          ng-if="org.visible || $ctrl.editMode"
          on-change-visibility="$ctrl.orgChangeVisibility(organization_id)">
  </organization-people>
  <div class="no-contacts-extras">
    <a href ng-click="$ctrl.numberOfOrgsToShow = 100" ng-if="$ctrl.numberOfOrgsToShow == $ctrl.noPeopleShowLimit"
       class="show-more">{{ 'dashboard.show_more' | t }}</a>
    <br>
    <a href ng-click="$ctrl.editMode = true" ng-if="$ctrl.numberOfOrgsToShow == $ctrl.noPeopleShowLimit"
       class="edit-mode" bind-dynamic="'dashboard.edit_org_order_help' | t"></a>
  </div>
</div>
